version: "2.0"
name: track-dates-deployment
flow_name: track_dates
storage:
  type: GitHub
  repository: "https://github.com/no-one2k/basnya_de.git"
  access_token_secret: "{{ prefect.blocks.secret.github-access-token }}"
entrypoint: prefect/track_processed_dates.py:track_dates
parameters:
  last_n_days: 3
schedule:
  cron: "25 8 * * *"
work_pool_name: banya-work-pool
pull_steps:
  - prefect.deployments.steps.run_shell_script:
      id: activate-venv
      script: source .venv/bin/activate  # On Windows, use: myenv\Scripts\Activate.ps1
      stream_output: true
